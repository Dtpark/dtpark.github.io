---
title: Shell的基本概念及使用
layout: post
categories: tools
tags: shell bash zsh
---

## 一、基本概念

### 1.1 shell

shell 是一个命令行解释器，它输出一个提示符，等待输人一个命令行，然后执行这个命令。

如果该命令行的第一个单词不是一个内置的 shell 命令，那么 shell 就会假设这是一个可执行文件的名字，它将加载并运行这个文件。

### 1.2 参数

参数跟在程序名后用空格分隔开的字符（串）。

> 参数中需要（空格）时，有两种方法：
>
> - 用`" "`或`' '`扩起来组成字符串作为一个参数
> - 在空格前写转译字符`\`，将空格转译

> `""` 与 `''`的区别
>
> - `""`：若其包裹的内容中有变量，则变量被解析
> - `''`：若其包裹的内容中有变量，则变量不会被解析

```zsh
$ foo=123	# 定义变量 foo 的值为 123

$ echo "$foo"	# 直接输出变量值                
123

$ echo '$foo'	# 不会转译输出
$foo
```

> `echo date` 或 `date echo`会发生什么， 即参数为程序会输出什么？

### 1.3 环境变量（$PATH）

当 shell 接到某条不是 shell 关键字的指令时，它会列出进行程序搜索的路径。

```zsh
$ echo $PATH	# 输出由 : 所分割的一系列目录
/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
```

> Shell 命令的加载流程，以`echo`为例：
>
> 当我们执行 `echo` 命令时，shell 了解到需要执行 `echo` 这个程序，随后它便会在 `$PATH` 中搜索由 `:` 所分割的一系列目录，基于名字搜索该程序。当找到该程序时便执行（假定该文件是 *可执行程序*）。

- 确定指令代表的具体程序： `which 指令名`

  ```zsh
  $ which echo  
  echo: shell built-in command
  
  $ which go  
  /usr/local/opt/go@1.14/bin/go
  ```

> 可以通过直接指定需要执行程序的路径来执行该程序，从而绕过`$PATH`。

## 二、目录与文件操作（shell 中导航）

### 2.1 目录相关操作

- 显示当前所在路径：`pwd`

  ```zsh
  $ pwd
  /home/missing
  ```

- 列出路径下文件：`ls [参数] [路径]`，默认为当前路径

  ```zsh
  $ ls
  bin
  boot
  dev
  etc
  home
  ...
  ```

  - 参数`-l`：使用长列表格式表示

    ```zsh
    $ ls -l /home
    drwxr-xr-x 1 missing  users  4096 Jun 15  2019 missing
    ```

  - 参数`-a`：显示所有文件（包括隐藏文件）

  - 参数`--help`：显示手册（帮助文档）

- 切换目录：`cd [路径/参数]`

  - 用（相对/绝对）路径切换目录（略）
  - 返回上次所在目录：`cd -`

### 2.2 文件相关操作

- 移动/重命名：`mv 源文件（可含路径） 目地文件（含路径）`
- 复制：`cp 源文件（可含路径） 目地文件（含路径）`

### 2.3 杂项

- 查看程序手册：`man 程序名`,如 `man test`
- 清屏：`clear` 或 `ctrl+l`

## 三、程序间的操作（在程序间创建连接）



